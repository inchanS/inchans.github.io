<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>typeORM 시간대 설정에 관한 고찰 - typeORM의 dateStrings와 timezone 옵션에 따른 시간대 혼란 - inchan.dev</title><meta name="Description" content="Coding Projects: From Ideas to Execution"><meta property="og:title" content="typeORM 시간대 설정에 관한 고찰 - typeORM의 dateStrings와 timezone 옵션에 따른 시간대 혼란" />
<meta property="og:description" content="먼저 알아두기 mySQL - Date 필드의 타입 종류 mySQL에서 Date 필드의 타입 종류는 다음과 같다.
DATE - 날짜만 TIME - 시간만 DATETIME - 시간대가 반영되지 않은 현재 서버 시간대의 날짜와 시간 데이터 TIMESTAMP - 시간대가 반영된 날짜와 시간 데이터 여기서 주의할 점은 TIMESTAMP 이다.
이 데이터는 해당 서버의 시간대를 반영하기에 DB에 저장될 때에는 UTC(&#43;00:00) 시간대로 변환되어 저장된다.
단, 조회시 세션 설정에 따른 시간대를 반영하여 해당 시간대로 변환된 데이터로 조회된다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://inchan.dev/posts/202403010802/" /><meta property="og:image" content="https://inchan.dev/images/avatar.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-01T08:02:58+09:00" />
<meta property="article:modified_time" content="2024-03-03T07:57:11+09:00" /><meta property="og:site_name" content="inchan.dev" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://inchan.dev/images/avatar.png" /><meta name="twitter:title" content="typeORM 시간대 설정에 관한 고찰 - typeORM의 dateStrings와 timezone 옵션에 따른 시간대 혼란"/>
<meta name="twitter:description" content="먼저 알아두기 mySQL - Date 필드의 타입 종류 mySQL에서 Date 필드의 타입 종류는 다음과 같다.
DATE - 날짜만 TIME - 시간만 DATETIME - 시간대가 반영되지 않은 현재 서버 시간대의 날짜와 시간 데이터 TIMESTAMP - 시간대가 반영된 날짜와 시간 데이터 여기서 주의할 점은 TIMESTAMP 이다.
이 데이터는 해당 서버의 시간대를 반영하기에 DB에 저장될 때에는 UTC(&#43;00:00) 시간대로 변환되어 저장된다.
단, 조회시 세션 설정에 따른 시간대를 반영하여 해당 시간대로 변환된 데이터로 조회된다."/>
<meta name="twitter:site" content="@codject"/>
<meta name="application-name" content="inchan.dev">
<meta name="apple-mobile-web-app-title" content="inchan.dev"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://inchan.dev/posts/202403010802/" /><link rel="prev" href="https://inchan.dev/posts/202401311413/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "typeORM 시간대 설정에 관한 고찰 - typeORM의 dateStrings와 timezone 옵션에 따른 시간대 혼란",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/inchan.dev\/posts\/202403010802\/"
        },"genre": "posts","keywords": "JavaScript, typeORM, mySQL, NodeJS","wordcount":  1262 ,
        "url": "https:\/\/inchan.dev\/posts\/202403010802\/","datePublished": "2024-03-01T08:02:58+09:00","dateModified": "2024-03-03T07:57:11+09:00","publisher": {
            "@type": "Organization",
            "name": "inchan"},"author": {
                "@type": "Person",
                "name": "inchan"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="inchan.dev"><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="inchan.dev"><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">typeORM 시간대 설정에 관한 고찰 - typeORM의 dateStrings와 timezone 옵션에 따른 시간대 혼란</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>inchan</a></span>&nbsp;<span class="post-category">included in <a href="/categories/back-end/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Back-End</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-03-01">2024-03-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1262 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;6 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images.unsplash.com/photo-1525562929550-63ef340cfe1d?q=80&amp;w=2748&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        data-srcset="https://images.unsplash.com/photo-1525562929550-63ef340cfe1d?q=80&amp;w=2748&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D, https://images.unsplash.com/photo-1525562929550-63ef340cfe1d?q=80&amp;w=2748&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D 1.5x, https://images.unsplash.com/photo-1525562929550-63ef340cfe1d?q=80&amp;w=2748&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D 2x"
        data-sizes="auto"
        alt="https://images.unsplash.com/photo-1525562929550-63ef340cfe1d?q=80&amp;w=2748&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        title="https://images.unsplash.com/photo-1525562929550-63ef340cfe1d?q=80&amp;w=2748&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#typeorm의-datestrings와-timezone-옵션">typeORM의 dateStrings와 timezone 옵션</a>
      <ul>
        <li><a href="#현재-조건">현재 조건</a></li>
        <li><a href="#datestrings"><code>dateStrings</code></a></li>
        <li><a href="#timezone"><code>timezone</code></a>
          <ul>
            <li><a href="#timezone에-대한-실험"><code>timezone</code>에 대한 실험</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#고민">고민</a>
      <ul>
        <li><a href="#서버별-시간대가-다르더라도-이를-자동반영할-수-있는-방법">서버별 시간대가 다르더라도 이를 자동반영할 수 있는 방법?</a></li>
        <li><a href="#적용방안">적용방안</a>
          <ul>
            <li><a href="#조건">조건</a></li>
            <li><a href="#코드">코드</a></li>
            <li><a href="#장점">장점</a></li>
          </ul>
        </li>
        <li><a href="#추가-업데이트-1---formatdate함수를-entity에-바로-적용하기">추가 업데이트 1 - formatDate함수를 Entity에 바로 적용하기</a></li>
        <li><a href="#추가-업데이트-2">추가 업데이트 2</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p> </p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw" aria-hidden="true"></i>먼저 알아두기<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><h3 id="mysql---date-필드의-타입-종류">mySQL - Date 필드의 타입 종류</h3>
<p>mySQL에서 Date 필드의 타입 종류는 다음과 같다.</p>
<ul>
<li><code>DATE</code> - 날짜만</li>
<li><code>TIME</code> - 시간만</li>
<li><code>DATETIME</code> - 시간대가 <strong>반영되지 않은</strong> 현재 서버 시간대의 날짜와 시간 데이터</li>
<li><code>TIMESTAMP</code> - 시간대가 <strong>반영된</strong> 날짜와 시간 데이터</li>
</ul>
<p>여기서 주의할 점은 <code>TIMESTAMP</code> 이다.<br>
이 데이터는 해당 서버의 시간대를 반영하기에 DB에 저장될 때에는 UTC(+00:00) 시간대로 변환되어 저장된다.<br>
단, 조회시 세션 설정에 따른 시간대를 반영하여 해당 시간대로 변환된 데이터로 조회된다.</p>
</div>
        </div>
    </div>
<h2 id="typeorm의-datestrings와-timezone-옵션">typeORM의 dateStrings와 timezone 옵션</h2>
<p>dateStrings와 timezone에 대한 개념을 확실하게 잡지 않은 상태에서 서비스를 운영해보니 굉장히 혼란스러웠다. 정확한 서버나 DB의 상태를 내가 통제하고 있지 않은 상태에서 일단 결과물은 내가 원하는대로 나오니까 그동안은 이게 전부이고 이게 맞다고 생각했었다. 하지만 코드를 하나만 바꾸어도 내가 전혀 의도치 않은 방향대로 결과물이 나오는 것을 보며 이는 곧 나의 코드가 다른 환경에서는 언제든지 내가 원치않는 결과를 낼 수 있음을 의미하기에 내심 찝찝했다.<br>
때문에 이에 대한 문서를 살펴보고 다음과 같이 직접 테스트를 해본다.</p>
<h3 id="현재-조건">현재 조건</h3>
<p>mySQL의 Date 필드의 타입은 <code>timestamp</code>이다.</p>
<h3 id="datestrings"><code>dateStrings</code></h3>
<p><code>dateStrings: true</code><br>
DB로부터 Date 타입의 데이터를 String으로 변환하여 가져온다.<br>
이 때, <strong>시스템의 Local TimeZone이 반영</strong>된다.<br>
단점은 당연하게도 반환값이 String타입이기에 해당 컬럼과 관련된 서비스 로직에서 Date 타입을 이용한 변환을 사용할 수 없다.   <br>
 </p>
<p><code>dateStrings: false</code><br>
Date 타입을 js 객체 형태로 가지고 있으며 시스템의 Local TimeZone을 적용되지 않고 UTC 시간대 그대로 출력한다.<br>
(번거롭지만) 데이터를 개발자가 더 세밀하게 제어할 수 있다.</p>
<h3 id="timezone"><code>timezone</code></h3>
<h4 id="timezone에-대한-실험"><code>timezone</code>에 대한 실험</h4>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>mySQL 세션 시간대 설정과의 관계<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>아래와 같이 mySQL 서버의 시간대 설정과 typeORM의 <code>timezone</code>을 통한 시간대 설정은 서로 무관하다.
아래의 설정은 mySQL의 세션 실행시 적용할 시간대를 설정해주는 건데,<br>
바로 이 부분을 typeORM의 <code>timezone</code> 설정이 따로이 설정해주는 개념이라고 이해하면 편하다.<br>
즉, typeORM을 사용하는 서버에서의 mySQL 세션 실행시 적용 시간대는 바로 이 <code>timezone</code>이 따로이 담당하고 있는 셈이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SET</span><span class="w"> </span><span class="k">GLOBAL</span><span class="w"> </span><span class="n">TIME_ZONE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;+00:00&#39;</span><span class="w"> </span><span class="c1">-- 시간대 설정
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SHOW</span><span class="w"> </span><span class="k">GLOBAL</span><span class="w"> </span><span class="n">VARIABLES</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;TIME_ZONE&#39;</span><span class="w"> </span><span class="c1">-- 시간대 확인
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 시간대 변환 후, mySQL의 세션(typeORM)을 종료후 다시 연결 하여야 반영된다.
</span></span></span></code></pre></div></div>
        </div>
    </div>
<h5 id="timezone-z"><code>timezone: 'Z'</code></h5>
<p>현재 DB에서 받아오는 시간대를 Zulu 시간대(+00:00)라고 해석하여 받아들인다.</p>
<h6 id="실험">실험</h6>
<ul>
<li>typeORM - <code>timezone = 'Z'</code> 옵션을 추가</li>
<li>한국표준시(KST) 기준 <code>24.02.05 20:04</code> 데이터 입력</li>
</ul>
<h6 id="결과">결과</h6>
<ul>
<li><code>2024-02-05T11:04:52.788Z</code></li>
</ul>
<p>실제 DB에서는 이 시간대로 저장되어 있으며 typeorm에서도 이 시간으로 나온다.<br>
(물론 DB 조회시 조회 세션의 시간대 설정에 따라 변환되어 조회될 수는 있다.)</p>
<p>이 때 서버의 시간대는 KST(한국표준시)라 하더라도 이것은 전혀 무관하게 작동한다.</p>
<h5 id="timezone--local"><code>timezone = '&lt;LOCAL&gt;'</code></h5>
<p>DB로부터 가져온 데이터를 서버의 시간대에 맞춰 변환한다.</p>
<p>즉, <code>timezone = 'Asia/Seoul</code>로 설정되어있을 때,</p>
<p>DB에서 09:00로 내보냈다면 서버는 이 데이터를 서버의 시간대인 KST로 변환하여 반영한다.</p>
<h5 id="timezone--z와-local의-차이점"><code>timezone = 'Z'와 '(LOCAL)'</code>의 차이점</h5>
<p>&lsquo;Z&rsquo;</p>
<ul>
<li>형태 : <code>2024-02-05T11:04:52.788Z</code></li>
<li>typeof : Object (Date 객체)</li>
</ul>
<p> </p>
<p>&lsquo;(LOCAL)&rsquo;</p>
<ul>
<li>형태 : <code>2024-02-05 11:04:52.78829</code></li>
<li>typeof : string</li>
</ul>
<p><strong>즉 서버의 시간대를 반영하여 내보내고 싶을 경우, 이 옵션을 사용하여 해당 시간대로 맞추어 사용할 수 있다.</strong></p>
<h2 id="고민">고민</h2>
<h3 id="서버별-시간대가-다르더라도-이를-자동반영할-수-있는-방법">서버별 시간대가 다르더라도 이를 자동반영할 수 있는 방법?</h3>
<p>최종사용자에 따른 시간대를 각각 적용하는 방법은 백엔드 입장에선 사실 굉장히 단순하고 쉽게 생각된다. 그저 Date필드의 값을 UTC 기준으로 내보내고 클라이언트에서는 최종사용자의 브라우저로부터 수집된 국가코드를 판별해 이를 바탕으로 변환하면 되지 싶다.<br>
대충 다음과 같은 코드가 만들어진다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// UTC로 받은 시간 문자열
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">utcDate</span> <span class="o">=</span> <span class="s1">&#39;2024-03-02T12:00:00Z&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 로컬 시간대로 변환
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">localDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">utcDate</span><span class="p">).</span><span class="nx">toLocaleString</span><span class="p">(</span><span class="s1">&#39;ko-KR&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">timeZone</span><span class="o">:</span> <span class="s1">&#39;Asia/Seoul&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">localDate</span><span class="p">);</span> <span class="c1">// 변환된 로컬 시간 출력
</span></span></span></code></pre></div><p> </p>
<p>하지만 <strong>백엔드 서버를 관리하는 입장에서는 UTC로 데이터가 나오니 테스트를 하면서도 시간대에 대한 감이 맞지 않아 불편</strong>하다.<br>
즉, 어떤 시간대에서 애플리케이션 서버가 돌아가더라도 따로이 코드를 수정하지 않고 현지 시간대로 Date값을 반환할 수 있는 방법을 찾고 싶었다.<br>
구글링을 해보면 간단하게 다음 라이브러리들이 나온다.</p>
<p><a href="https://www.npmjs.com/package/moment" target="_blank" rel="noopener noreffer ">moment - npm</a>
<a href="https://www.npmjs.com/package/moment-timezone" target="_blank" rel="noopener noreffer ">moment-timezone - npm</a></p>
<p><strong>그런데&hellip;</strong><br>
<a href="https://www.npmjs.com/package/moment" target="_blank" rel="noopener noreffer ">moment - npm</a> 라이브러리를 살펴보던 중 해당 공식문서에서 이상한 문구를 발견했다.</p>
<blockquote>
<p><a href="https://dockyard.com/blog/2020/02/14/you-probably-don-t-need-moment-js-anymore" target="_blank" rel="noopener noreffer "><em>You Probably Don&rsquo;t Need Moment.js Anymore</em></a><br>
<a href="https://github.com/you-dont-need/You-Dont-Need-Momentjs/blob/master/README.md" target="_blank" rel="noopener noreffer "><em>You don&rsquo;t (may not) need Moment.js</em></a><br>
<a href="https://inventi.studio/en/blog/why-you-shouldnt-use-moment-js" target="_blank" rel="noopener noreffer "><em>Why you shouldn&rsquo;t use Moment.js&hellip;</em></a><br>
<a href="https://blog.logrocket.com/4-alternatives-to-moment-js-for-internationalizing-dates/" target="_blank" rel="noopener noreffer "><em>4 alternatives to moment.js for internationalizing dates</em></a></p>
</blockquote>
<p>&lsquo;<strong>사실 당신은 아마 이 라이브러리가 필요없을지도 모른다</strong>&lsquo;라니&hellip;<br>
살펴보니 무겁게 라이브러리를 사용할 필요 없이 간단한 플랫폼의 메소드만으로도 충분히 가능했다.<br>
무조건 무거운 라이브러리 패키지를 사용하는 것만이 능사는 아니라고 말하고 있다.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<h3 id="적용방안">적용방안</h3>
<h4 id="조건">조건</h4>
<p>다음 조건으로 DB로부터 UTC 기준의 시간대를 서버로 가져온다.</p>
<ul>
<li><code>dateStrings = false</code> (따로이 설정하지 않으면 false가 기본값이다.)</li>
<li><code>timezone</code>은 따로 설정하지 않고 DB의 시간대를 그대로 받아온다는 조건을 만든다.</li>
</ul>
<h4 id="코드">코드</h4>
<ul>
<li>DB서버에서 받아온 Date 정보(UTC 시간대)로부터</li>
<li>애플리케이션 서버의 현지 시간대(<code>getTimezoneOffset()</code>)와의 차이를 계산하여<br>
반환함으로써, 어느 시간대의 서버에서든지 서버가 설치된 현지시간대로 데이터를 받아볼 수 있다.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// 애플리케이션 서버의 타임존을 고려하여 Date타입을 재가공 
</span></span></span><span class="line"><span class="cl"><span class="c1">// (ex. 2021-08-01T00:00:00.000Z -&gt; 2021-08-01 00:00:00)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">public</span> <span class="nx">formatDate</span><span class="p">(</span><span class="nx">date</span>: <span class="kt">Date</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="kr">const</span> <span class="nx">localDateTime</span>: <span class="kt">Date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    			        <span class="nx">date</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">-</span> <span class="nx">date</span><span class="p">.</span><span class="nx">getTimezoneOffset</span><span class="p">()</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span>
</span></span><span class="line"><span class="cl">    			      <span class="p">);</span>
</span></span><span class="line"><span class="cl">    			  
</span></span><span class="line"><span class="cl">    			      <span class="k">return</span> <span class="nx">localDateTime</span><span class="p">.</span><span class="nx">toISOString</span><span class="p">().</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">19</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    			    <span class="p">}</span>
</span></span></code></pre></div><h4 id="장점">장점</h4>
<p>DB 서버의 시간대는 <strong>DB 담당자</strong> 편한 시간대로 바꾸어도 필드는 <code>timestamp</code>이기에 앱서버에서는 균일하게 UTC 시간대로 받아온다. 따라서 애플리케이션 <strong>서버 담당자</strong>는 서버의 시간대만 신경쓰면 된다.<br>
만약, 클라이언트에서 브라우저별 시간대를 고려하겠다면 <code>localDateTime</code> 변수대신 <code>date</code> 인자를 그대로 반환하면 된다.</p>
<p>그리고 그 저 함수를 클라이언트에서 그대로 다시 사용할 수 있다.</p>
<h3 id="추가-업데이트-1---formatdate함수를-entity에-바로-적용하기">추가 업데이트 1 - formatDate함수를 Entity에 바로 적용하기</h3>
<p>위 함수를 서비스 로직에서 적용하고자 하는 해당 Date 필드에 따로이 사용할 수도 있지만 애시당초 typeORM에서 모든 Date 필드에 한번에 적용하게끔 하는 방법도 있다.<br>
바로 typeORM의 <code>transformer</code> 옵션을 사용하면 된다.</p>
<p>현재 프로젝트의 entities에서 <code>id</code>, <code>created_at</code>, <code>updated_at</code>, <code>deleted_at</code>과 같은 기본 필드는 base entity라는 추상화 클래스로 따로이 만들어놓고 여기에서 확장하여 각각의 entity를 작성하였다.<br>
즉 base entity에서 해당 컬럼에 다음과 같이 적용하면 이제 모든 Date 필드는 자동으로 위 함수가 적용된 채로 조회할 수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">DateUtils</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;../utils/dateUtils&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">transformer</span>: <span class="kt">ValueTransformer</span> <span class="o">=</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="kr">from</span><span class="o">:</span> <span class="p">(</span><span class="nx">value</span>: <span class="kt">Date</span><span class="p">)</span> <span class="o">=&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">value</span> <span class="k">instanceof</span> <span class="nb">Date</span> <span class="o">?</span> <span class="nx">DateUtils</span><span class="p">.</span><span class="nx">formatDate</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">:</span> <span class="nx">value</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">to</span><span class="o">:</span> <span class="p">(</span><span class="nx">value</span>: <span class="kt">Date</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">value</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl"><span class="p">};</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">abstract</span> <span class="kr">class</span> <span class="nx">Base</span> <span class="kr">extends</span> <span class="nx">BaseEntity</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="kd">@PrimaryGeneratedColumn</span><span class="p">()</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">id</span><span class="o">!:</span> <span class="kt">number</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="kd">@CreateDateColumn</span><span class="p">({</span> <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="nx">transformer</span>: <span class="kt">transformer</span> <span class="p">})</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">created_at</span><span class="o">!:</span> <span class="nb">Date</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="kd">@UpdateDateColumn</span><span class="p">({</span> <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="nx">transformer</span>: <span class="kt">transformer</span> <span class="p">})</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">updated_at</span><span class="o">!:</span> <span class="nb">Date</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="kd">@DeleteDateColumn</span><span class="p">({</span> <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="nx">transformer</span>: <span class="kt">transformer</span> <span class="p">})</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">deleted_at?</span>: <span class="kt">Date</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>이 방법은 일일이 서비스로직에서 해당 필드에 함수를 적용했을 때보다 훨씬 더 코드가 깔끔해지고 단일게 공통적으로 적용할 수 있다는 장점이 있다.</p>
<h3 id="추가-업데이트-2">추가 업데이트 2</h3>
<p>만약 클라이언트는 UTC 기준의 시간대로 데이터를 받아보려하고, 서버관리자는 현지시간대로 확인을 하려한다면??</p>
<p>여러가지로 고민해봤지만 일단 Entity의 transformer를 동적으로 건드릴 수는 없었다. 왜냐하면 entity파일은 DB연결시점에 고정적으로 작동하기 때문이다. 때문에 결국은 모든 서비스 로직을 손봐야한다.</p>
<p>우선, 아래와 같이 미들웨어를 만들어준다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// &#39;/global&#39; 경로를 포함하는 요청에 대한 미들웨어 추가 (최상단 위치시킬 것)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="c1">// 요청 경로가 &#39;/global&#39;로 시작하는지 확인 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">req</span><span class="p">.</span><span class="kr">global</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;/global&#39;</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl"><span class="nx">next</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 이후 router.use 코드들...
</span></span></span></code></pre></div><p>그리고 formatDate함수의 클래스에 추가적인 메소드를 더해준다.<br>
아래의 <code>processDateValues()</code> 메소드가 그것이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">DateUtils</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">localDateTime</span>: <span class="kt">Date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span>  
</span></span><span class="line"><span class="cl">      <span class="nx">date</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">-</span> <span class="nx">date</span><span class="p">.</span><span class="nx">getTimezoneOffset</span><span class="p">()</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span>  
</span></span><span class="line"><span class="cl">    <span class="p">);</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">localDateTime</span><span class="p">.</span><span class="nx">toISOString</span><span class="p">().</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">19</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="c1">// DB에서 가져오는 반환 값 중 Date 타입의 모든 값을 formatDate 함수로 처리해주는 함수  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// typeORM Entities의 options 중 transformer를 사용하지 않고 service 로직에서 처리를 할 때 사용  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">public</span> <span class="kr">static</span> <span class="kr">async</span> <span class="nx">processDateValues</span><span class="p">(</span><span class="nx">result</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">any</span><span class="p">&gt;</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="c1">// 쿼리 실행 후에 반환된 결과를 가공  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">      <span class="c1">// 반환된 결과가 배열인 경우  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">processItem</span><span class="p">(</span><span class="nx">item</span><span class="p">));</span>  
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">      <span class="c1">// 반환된 결과가 단일 객체인 경우  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">processItem</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">    <span class="p">}</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="kr">private</span> <span class="kr">static</span> <span class="nx">processItem</span><span class="p">(</span><span class="nx">item</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="kt">any</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="c1">// 객체의 모든 속성을 순회하면서 Date 타입인 경우에만 가공  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">item</span><span class="p">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">item</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="k">instanceof</span> <span class="nb">Date</span><span class="p">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">item</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">DateUtils</span><span class="p">.</span><span class="nx">formatDate</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>  
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">item</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">        <span class="c1">// 객체인 경우 재귀적으로 processItem 호출  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">item</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">processItem</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>  
</span></span><span class="line"><span class="cl">      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">    <span class="p">}</span>  
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">item</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>그리고 모든 서비스 로직을 손본다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">SomeService</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">async</span> <span class="nx">processData</span><span class="p">(</span><span class="nx">req</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">someRepository</span><span class="p">.</span><span class="nx">find</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 요청 경로에 &#39;/global&#39;이 포함되어 있지 않은 경우에만 데이터 변환 적용
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">req</span><span class="p">.</span><span class="nx">isGlobal</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">DateUtils</span><span class="p">.</span><span class="nx">processDateValues</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>우선은 원하는대로, 클라이언트에서의 UTC 시간대 값과 서버의 현지시간대를 고려한 값 모두의 요구를 맞출 수 있도록 구색은 갖춰봤지만&hellip;</p>
<p>아무래도 위 방법은 모든 서비스로직을 번거롭고 거추장스럽게 하고 있고, 깨끗한 코드(Clean Code)라고 하기 어렵기에 추천하지 않지만 이런 방법을 이용할 수 있다는 의도로 기록을 남긴다.</p>
<p><strong>가장 추천하는 방법은 백엔드에서는 시간대를 UTC로 내보내고, 클라이언트에서 이를 따로이 변환하는 것이 가장 깔끔하다고 생각</strong>한다.</p>
<p>github 관련 커밋 보기 - <a href="https://github.com/inchanS/project-review-ts/releases/tag/v3.2.0" rel="noopener noreffer" target="_blank"><img
        class="lazyload version"
        src="/svg/loading.min.svg"
        data-src="/svg/version/3.2.0-new.min.svg"
        data-srcset="/svg/version/3.2.0-new.min.svg, /svg/version/3.2.0-new.min.svg 1.5x, /svg/version/3.2.0-new.min.svg 2x"
        data-sizes="auto"
        alt="github-inchan code NEW | 3.2.0"
        title="github-inchan code NEW | 3.2.0" /></a></p>
<hr>
<p>함께 읽어볼만한 글</p>
<ul>
<li><a href="https://meetup.nhncloud.com/posts/130" target="_blank" rel="noopener noreffer ">자바스크립트에서 타임존 다루기 (2) : NHN Cloud Meetup</a></li>
<li><a href="https://news.hada.io/topic?id=13495" target="_blank" rel="noopener noreffer ">2024년 자바스크립트 부피 팽창 | GeekNews</a></li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>관련된 재밌는 기사가 있다. <a href="https://news.hada.io/topic?id=13495" target="_blank" rel="noopener noreffer ">2024년 자바스크립트 부피 팽창 | GeekNews</a> 에서는, 필요기능만을 구현하기위한 가장 가볍고 최적화된 코드는 숙련된 순수 자바스크립트 코드라고도 한다.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2024-03-03</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/javascript/">JavaScript</a>,&nbsp;<a href="/tags/typeorm/">TypeORM</a>,&nbsp;<a href="/tags/mysql/">MySQL</a>,&nbsp;<a href="/tags/nodejs/">NodeJS</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/202401311413/" class="prev" rel="prev" title="프로젝트별 각각의 node 버전을 nvm으로 자동 적용하기"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>프로젝트별 각각의 node 버전을 nvm으로 자동 적용하기</a></div>
</div>
<div id="comments"><div id="utterances" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">inchan</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":70},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"url","label":"Comment","lightTheme":"github-light","repo":"inchanS/blog-comments"}},"data":{"id-1":"inchan.dev","id-2":"inchan.dev"},"search":{"algoliaAppID":"MKTUFLRGZY","algoliaIndex":"index.ko","algoliaSearchKey":"bc96d1a4ccc0607599f169955ef3e728","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":75}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-F2GSKQJ0MP', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-F2GSKQJ0MP" async></script></body>
</html>
